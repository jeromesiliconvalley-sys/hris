@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom base styles */
@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-sans bg-gray-50 text-gray-900;
  }

  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    body {
      @apply bg-gray-900 text-gray-100;
    }
  }
}

/* Custom component styles */
@layer components {
  /* Layout Components */
  .app-container {
    @apply min-h-screen;
  }

  .main-content {
    @apply ml-0 lg:ml-sidebar pt-topnav transition-all duration-300;
  }

  .main-content.sidebar-open {
    @apply ml-0 lg:ml-sidebar;
  }

  .content-wrapper {
    @apply p-4 md:p-6 lg:p-8 max-w-[1400px] mx-auto;
  }

  /* Page Header */
  .page-header {
    @apply mb-6 md:mb-8;
  }

  .page-title {
    @apply text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2;
  }

  .page-subtitle {
    @apply text-sm md:text-base text-gray-600 dark:text-gray-400;
  }

  /* Card Component */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700;
  }

  .card-header {
    @apply px-4 md:px-6 py-4 border-b border-gray-200 dark:border-gray-700;
  }

  .card-title {
    @apply text-lg md:text-xl font-semibold text-gray-900 dark:text-white;
  }

  .card-body {
    @apply p-4 md:p-6;
  }

  /* Stats Grid */
  .stats-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6 md:mb-8;
  }

  .stat-card {
    @apply bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6 shadow-sm border border-gray-200 dark:border-gray-700 flex items-start gap-4 hover:shadow-md transition-shadow;
  }

  .stat-icon {
    @apply w-12 h-12 rounded-lg flex items-center justify-center text-2xl;
  }

  .stat-icon.primary {
    @apply bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400;
  }

  .stat-icon.success {
    @apply bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400;
  }

  .stat-icon.warning {
    @apply bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400;
  }

  .stat-icon.danger {
    @apply bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400;
  }

  .stat-icon.info {
    @apply bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400;
  }

  .stat-content {
    @apply flex-1 min-w-0;
  }

  .stat-value {
    @apply text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-1;
  }

  .stat-label {
    @apply text-sm text-gray-600 dark:text-gray-400;
  }

  .stat-change {
    @apply text-xs font-medium mt-1;
  }

  .stat-change.positive {
    @apply text-green-600 dark:text-green-400;
  }

  .stat-change.negative {
    @apply text-red-600 dark:text-red-400;
  }

  /* Content Grid */
  .content-grid {
    @apply grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6;
  }

  /* Table Styles */
  .table-responsive {
    @apply overflow-x-auto -mx-4 md:mx-0;
  }

  .table {
    @apply w-full text-sm text-left;
  }

  .table thead {
    @apply bg-gray-50 dark:bg-gray-700/50 text-gray-700 dark:text-gray-300 text-xs uppercase font-semibold;
  }

  .table thead th {
    @apply px-4 md:px-6 py-3;
  }

  .table tbody tr {
    @apply border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50;
  }

  .table tbody td {
    @apply px-4 md:px-6 py-4;
  }

  /* Button Styles */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }

  .btn-lg {
    @apply px-6 py-3 text-lg;
  }

  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800 shadow-sm;
  }

  .btn-secondary {
    @apply bg-gray-200 text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600;
  }

  .btn-success {
    @apply bg-green-600 text-white hover:bg-green-700 active:bg-green-800;
  }

  .btn-danger {
    @apply bg-red-600 text-white hover:bg-red-700 active:bg-red-800;
  }

  .btn-warning {
    @apply bg-yellow-600 text-white hover:bg-yellow-700 active:bg-yellow-800;
  }

  .btn-outline-primary {
    @apply border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white dark:border-primary-400 dark:text-primary-400;
  }

  /* Form Styles */
  .form-label {
    @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2;
  }

  .form-control {
    @apply w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors;
  }

  .form-select {
    @apply form-control;
  }

  .form-check {
    @apply flex items-center gap-2;
  }

  .form-check-input {
    @apply w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500;
  }

  /* Badge Styles */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply bg-primary-100 text-primary-800 dark:bg-primary-900/30 dark:text-primary-400;
  }

  .badge-success {
    @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400;
  }

  .badge-danger {
    @apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400;
  }

  .badge-secondary {
    @apply bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300;
  }

  /* Alert Styles */
  .alert {
    @apply p-4 rounded-lg border mb-4;
  }

  .alert-success {
    @apply bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400;
  }

  .alert-danger {
    @apply bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400;
  }

  .alert-warning {
    @apply bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-400;
  }

  .alert-info {
    @apply bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400;
  }

  /* Sidebar */
  .sidebar {
    @apply fixed left-0 top-topnav h-[calc(100vh-4rem)] w-sidebar bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 overflow-y-auto transition-transform duration-300 z-40;
  }

  .sidebar.collapsed {
    @apply w-sidebar-collapsed;
  }

  @media (max-width: 1023px) {
    .sidebar {
      @apply -translate-x-full;
    }

    .sidebar.open {
      @apply translate-x-0;
    }
  }

  .sidebar-header {
    @apply flex items-center justify-between px-4 py-4 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10;
  }

  .logo {
    @apply flex items-center gap-3 text-xl font-bold text-primary-600 dark:text-primary-400;
  }

  .logo-text {
    @apply transition-opacity duration-300;
  }

  .sidebar.collapsed .logo-text {
    @apply opacity-0 w-0 overflow-hidden;
  }

  .toggle-btn {
    @apply p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-600 dark:text-gray-400;
  }

  .nav-menu {
    @apply px-2 py-4 space-y-1;
  }

  .nav-item {
    @apply list-none;
  }

  .nav-link {
    @apply flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 no-underline;
  }

  .nav-link.active {
    @apply bg-primary-50 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400 font-medium;
  }

  .nav-link i:first-child {
    @apply text-xl w-6 flex-shrink-0;
  }

  .nav-link span {
    @apply flex-1;
  }

  .sidebar.collapsed .nav-link span {
    @apply hidden;
  }

  .has-submenu {
    @apply relative;
  }

  .submenu-arrow {
    @apply transition-transform duration-200 text-sm;
  }

  .has-submenu[aria-expanded="true"] .submenu-arrow {
    @apply rotate-180;
  }

  .submenu {
    @apply pl-4 space-y-1 max-h-0 overflow-hidden transition-all duration-300;
  }

  .submenu.show {
    @apply max-h-[500px] mt-1;
  }

  .submenu-item {
    @apply list-none;
  }

  .submenu-link {
    @apply flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 no-underline;
  }

  .submenu-link.active {
    @apply bg-primary-50 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400 font-medium;
  }

  .submenu-link i {
    @apply text-base w-5 flex-shrink-0;
  }

  /* Top Navigation */
  .topnav,
  .top-nav {
    @apply fixed top-0 left-0 right-0 h-topnav bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-50 px-4 flex items-center justify-between;
  }

  .mobile-menu-btn {
    @apply lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 text-xl;
  }

  .search-bar {
    @apply flex-1 max-w-2xl mx-4;
  }

  .search-bar form {
    @apply relative;
  }

  .search-bar i {
    @apply absolute left-3 top-1/2 -translate-y-1/2 text-gray-400;
  }

  .search-bar input {
    @apply w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors;
  }

  .top-nav-actions {
    @apply flex items-center gap-2;
  }

  .icon-btn {
    @apply relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 text-xl transition-colors;
  }

  .icon-btn .badge {
    @apply absolute -top-1 -right-1 min-w-[18px] h-[18px] flex items-center justify-center text-[10px];
  }

  .user-profile {
    @apply flex items-center gap-3 p-2 pr-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors;
  }

  .user-avatar {
    @apply w-8 h-8 rounded-full bg-primary-600 text-white flex items-center justify-center text-sm font-semibold;
  }

  .user-info {
    @apply hidden md:block;
  }

  .user-name {
    @apply text-sm font-medium text-gray-900 dark:text-white;
  }

  .user-role {
    @apply text-xs;
  }

  /* Dropdown */
  .dropdown {
    @apply relative;
  }

  .dropdown-menu {
    @apply absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible transition-all duration-200 max-h-[400px] overflow-hidden flex flex-col;
  }

  .dropdown-menu.show {
    @apply opacity-100 visible;
  }

  .dropdown-menu-end {
    @apply right-0;
  }

  .dropdown-menu-compact {
    @apply w-56;
  }

  .dropdown-header {
    @apply flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700;
  }

  .dropdown-header h6 {
    @apply text-sm font-semibold text-gray-900 dark:text-white m-0;
  }

  .dropdown-body {
    @apply overflow-y-auto max-h-[300px];
  }

  .dropdown-footer {
    @apply px-4 py-2 border-t border-gray-200 dark:border-gray-700 text-center;
  }

  .dropdown-footer a {
    @apply text-sm text-primary-600 dark:text-primary-400 hover:underline;
  }

  .dropdown-item {
    @apply flex items-start gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-gray-900 dark:text-white no-underline;
  }

  .dropdown-item.unread {
    @apply bg-primary-50 dark:bg-primary-900/20;
  }

  .dropdown-item i {
    @apply text-lg w-5 flex-shrink-0 mt-0.5;
  }

  .dropdown-divider {
    @apply h-px bg-gray-200 dark:bg-gray-700 my-1;
  }

  .notification-icon {
    @apply w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0;
  }

  .notification-content {
    @apply flex-1 min-w-0;
  }

  .notification-title {
    @apply text-sm font-medium text-gray-900 dark:text-white mb-1;
  }

  .notification-text {
    @apply text-xs text-gray-600 dark:text-gray-400 line-clamp-2;
  }

  .notification-time {
    @apply text-xs text-gray-500 dark:text-gray-500 mt-1;
  }

  .message-avatar {
    @apply w-10 h-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-sm font-semibold text-gray-700 dark:text-gray-300 flex-shrink-0;
  }

  /* Breadcrumb */
  .breadcrumb {
    @apply flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400;
  }

  .breadcrumb-item {
    @apply flex items-center gap-2;
  }

  .breadcrumb-item:not(:last-child)::after {
    content: '/';
    @apply text-gray-400;
  }

  /* Loading Spinner */
  .spinner {
    @apply inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin;
  }

  /* Employee List */
  .employee-list {
    @apply p-4 md:p-6 space-y-3;
  }

  .employee-item {
    @apply flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors;
  }

  .employee-avatar {
    @apply w-10 h-10 rounded-full bg-primary-600 text-white flex items-center justify-center text-sm font-semibold flex-shrink-0;
  }

  .employee-info {
    @apply flex-1 min-w-0;
  }

  .employee-name {
    @apply text-sm font-medium text-gray-900 dark:text-white;
  }

  .employee-position {
    @apply text-xs text-gray-600 dark:text-gray-400;
  }

  .employee-status {
    @apply text-xs px-2 py-1 rounded-full font-medium;
  }

  .employee-status.active {
    @apply bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400;
  }

  .employee-status.inactive {
    @apply bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300;
  }

  /* Activity Timeline */
  .activity-timeline {
    @apply p-4 md:p-6 space-y-3;
  }

  .activity-item {
    @apply flex items-start gap-3;
  }

  .activity-icon {
    @apply w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0;
  }

  .activity-icon.primary {
    @apply bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-400;
  }

  .activity-content {
    @apply flex-1 min-w-0;
  }

  .activity-title {
    @apply text-sm font-medium text-gray-900 dark:text-white;
  }

  .activity-description {
    @apply text-xs text-gray-600 dark:text-gray-400 mt-1;
  }

  .activity-time {
    @apply text-xs text-gray-500 dark:text-gray-500 mt-1;
  }

  /* Print Styles */
  @media print {
    .no-print {
      @apply hidden;
    }

    .sidebar,
    .topnav {
      @apply hidden;
    }

    .main-content {
      @apply ml-0 pt-0;
    }
  }
}

/* Custom utilities */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Screen reader only (replaces Bootstrap's visually-hidden) */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Accessibility: Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}
